# TGE DCA Vault 

## ğŸ“‹ Project Overview

**TGE DCA Vault** is a non-custodial Dollar-Cost Averaging (DCA) platform built on the Sui blockchain. It allows users to automate their cryptocurrency investments while maintaining full control of their funds through personal smart contract vaults.

### The Problem We Solve

Traditional DCA strategies on centralized exchanges (CEX) require users to:
- Deposit funds to the exchange (custodial risk)
- Trust the exchange not to freeze funds or get hacked
- Pay high fees for automated trading services
- Give up control of their private keys

### Our Solution

**Web3 Non-Custodial DCA Vault:**
- Users deposit stablecoins (USDC) into **their own** personal vault smart contract
- Users set their DCA rules (e.g., "buy 50 SUI every 7 days")
- Funds remain 100% in user control
- Logic is transparent and verifiable on-chain
- No intermediaries or trusted third parties

### How It Benefits the Community

1. **Financial Sovereignty**: Users maintain complete custody of their assets
2. **Transparency**: All trading logic is visible and auditable on the blockchain
3. **Privacy-Preserving**: Nautilus integration enables confidential order execution while maintaining on-chain verifiability
4. **Accessibility**: zkLogin integration allows Web2 users to participate without crypto wallets
5. **Cost Efficiency**: Sponsored transactions reduce barriers to entry
6. **Risk Mitigation**: Eliminates centralized exchange counterparty risk
7. **DeFi Integration**: Direct integration with DeepBook for optimal execution
8. **Flexible Automation**: Users can customize their investment strategies

### Privacy & Security Features

**Nautilus Off-Chain Computation Framework:**
- Delegates sensitive computations (order execution, vault logic) to Trusted Execution Environments (TEEs) like AWS Nitro Enclaves
- Secure, tamper-resistant environment isolated from external interference
- Cryptographic attestations verified by on-chain Sui smart contracts
- Enables private order execution without exposing sensitive trade data to the public blockchain

**Seal Encryption & Key Management:**
- On-chain decryption for verifying encrypted vault data
- SessionKey-based encryption for secure fund management
- Maintains user privacy while ensuring auditability

---

## ğŸ—ï¸ Architecture

### System Components

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     USER INTERFACE                          â”‚
â”‚                 (Next.js + TypeScript)                      â”‚
â”‚  - Wallet Connection (@mysten/dapp-kit)                    â”‚
â”‚  - Vault Management Dashboard                              â”‚
â”‚  - Transaction Execution                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  | 
                  â”‚                       
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚   SUI BLOCKCHAIN (On-Chain Verification)                 â”‚  
â”‚                                                          â”‚ 
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  
â”‚  â”‚  DCA Vault Smart Contract                  â”‚         â”‚  
â”‚  â”‚                                            â”‚         â”‚  
â”‚  â”‚  - Create vault                            â”‚         â”‚
â”‚  â”‚  - Verify Nautilus TEE attestations       â”‚         â”‚
â”‚  â”‚  - Manage on-chain fund state             â”‚         â”‚
â”‚  â”‚  - Execute verified DCA orders            â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  DeepBook DEX Integration                   â”‚      â”‚
â”‚  â”‚                                             â”‚      â”‚
â”‚  â”‚  - Optimal price execution                 â”‚      â”‚
â”‚  â”‚  - Swap USDC â†’ SUI or other assets        â”‚      â”‚
â”‚  â”‚  - Order book queries                      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  NAUTILUS TEEs    â”‚ (Off-Chain Computation)
        â”‚                   â”‚
        â”‚ AWS Nitro        â”‚
        â”‚ Enclaves         â”‚
        â”‚                   â”‚
        â”‚ - Private order   â”‚
        â”‚   execution       â”‚
        â”‚ - Vault logic     â”‚
        â”‚ - Generate        â”‚
        â”‚   attestations    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Technology Stack

**Smart Contracts (Move):**
- Sui Move language for secure smart contract development
- Sui Framework dependencies
- DeepBook integration for DEX trading
- Shared Clock object for time-based execution
- Nautilus attestation verification for TEE-based computations

**Off-Chain Computation (Nautilus):**
- Trusted Execution Environments (TEEs) via AWS Nitro Enclaves
- Secure, tamper-resistant order execution
- Cryptographic attestation generation
- Private trade data processing
- Complex vault logic computation

**Frontend (Next.js + TypeScript):**
- Next.js 14 with App Router
- TypeScript for type safety
- @mysten/dapp-kit for wallet integration
- @mysten/sui.js for blockchain interaction
- TailwindCSS for styling
- React hooks for state management
- Seal integration for encryption and key management

---

## ğŸ“ Project Structure

```
tge-dca/
â”‚
â”œâ”€â”€ README.md                          # This file
â”‚
â”œâ”€â”€ move/                         # Move smart contracts
â”‚   â”œâ”€â”€ Move.toml                     # Move package manifest
â”‚   â”œâ”€â”€ sources/
â”‚   â”‚   â”œâ”€â”€ tge_dca.move           # Main DCA vault contract
â”‚   â”‚   â””â”€â”€ deepbook_integration.move # DeepBook swap module
â”‚   â””â”€â”€ tests/
â”‚       â”œâ”€â”€ tge_dca_tests.move     # Vault unit tests
â”‚       â””â”€â”€ deepbook_tests.move      # DeepBook integration tests
â”‚
â”œâ”€â”€ app/                          # Next.js frontend application
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”œâ”€â”€ next.config.js
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ .env.local
â”‚   â”‚
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                      # Next.js App Router
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx           # Root layout with providers
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx             # Landing page
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # Main dashboard
â”‚   â”‚   â”‚   â””â”€â”€ how-it-works/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx        # Educational page
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ components/               # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ WalletConnection.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CreateVault.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VaultList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VaultCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ExecuteDCA.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VaultDetails.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Navbar.tsx
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ hooks/                    # Custom React hooks
â”‚   â”‚   â”‚   â”œâ”€â”€ useVaults.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useExecuteDCA.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ useCreateVault.ts
â”‚   â”‚   â”‚   â””â”€â”€ useDeepBook.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ lib/                      # Utility libraries
â”‚   â”‚   â”‚   â”œâ”€â”€ sui-client.ts        # Sui client setup
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.ts         # Contract addresses, etc.
â”‚   â”‚   â”‚   â””â”€â”€ utils.ts             # Helper functions
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ types/                    # TypeScript type definitions
â”‚   â”‚       â”œâ”€â”€ vault.ts
â”‚   â”‚       â”œâ”€â”€ transaction.ts
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ public/
â”‚       â”œâ”€â”€ logo.svg
â”‚       â””â”€â”€ icons/
â”‚
â”‚
â””â”€â”€ README.md
```

---
